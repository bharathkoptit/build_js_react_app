install_dependencies:
  executor: java-node-docker-executor
  steps:
    - checkout
    - run:
        name: Install Node.js and npm
        command: |
          curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -
          sudo apt-get install -y nodejs
          node --version
          npm --version
    - run:
        name: Install Groovy
        command: |
          wget https://archive.apache.org/dist/groovy/4.0.11/distribution/apache-groovy-sdk-4.0.11.zip
          unzip apache-groovy-sdk-4.0.11.zip
          sudo mv groovy-4.0.11 /usr/local/groovy
          export PATH=$PATH:/usr/local/groovy/bin
          groovy --version
    - run:
        name: Install SonarQube Scanner
        command: |
          wget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.6.2.2472-linux.zip
          unzip sonar-scanner-cli-4.6.2.2472-linux.zip
          sudo mv sonar-scanner-4.6.2.2472-linux /usr/local/sonar-scanner
          export PATH=$PATH:/usr/local/sonar-scanner/bin
          sonar-scanner --version
    - run:
        name: Install Docker
        command: |
          sudo apt-get update
          sudo apt-get install -y docker.io
          sudo usermod -aG docker $(whoami)
          docker --version
